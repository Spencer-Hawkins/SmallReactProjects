{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\"; // Import the functions you need from the SDKs you need\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\nimport { getDownloadURL, getStorage, ref, uploadBytes } from \"firebase/storage\"; // Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBgVh9vebu9Bwf_8ytZG3mq78-gKtKRXVk\",\n  authDomain: \"router-with-quotes.firebaseapp.com\",\n  databaseURL: \"https://router-with-quotes-default-rtdb.firebaseio.com\",\n  projectId: \"router-with-quotes\",\n  storageBucket: \"router-with-quotes.appspot.com\",\n  messagingSenderId: \"39486309124\",\n  appId: \"1:39486309124:web:abb5f2bab02f28789d0651\"\n}; // Initialize Firebase\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst storage = getStorage();\nexport function signup(email, password) {\n  return createUserWithEmailAndPassword(auth, email, password);\n}\nexport function login(email, password) {\n  return signInWithEmailAndPassword(auth, email, password);\n}\nexport function logout() {\n  return signOut(auth);\n} // Custom Hook\n\nexport function useAuth() {\n  _s();\n\n  const [currentUser, setCurrentUser] = useState();\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\n    return unsub;\n  }, []);\n  return currentUser;\n} // Storage\n\n_s(useAuth, \"weNTBXcC62DPmZO+PUtwIm8P/FM=\");\n\nexport async function upload(file, currentUser, setLoading) {\n  const fileRef = ref(storage, currentUser.uid + '.png');\n  setLoading(true);\n  const snapshot = await uploadBytes(fileRef, file);\n  const photoURL = await getDownloadURL(fileRef);\n  updateProfile(currentUser, {\n    photoURL\n  });\n  setLoading(false);\n  alert(\"Uploaded file!\");\n}","map":{"version":3,"names":["useEffect","useState","initializeApp","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","updateProfile","getDownloadURL","getStorage","ref","uploadBytes","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","auth","storage","signup","email","password","login","logout","useAuth","currentUser","setCurrentUser","unsub","user","upload","file","setLoading","fileRef","uid","snapshot","photoURL","alert"],"sources":["C:/Users/Spenc/OneDrive/Desktop/Learning React/01-starting-setup/src/store/firebase.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\r\nimport { getDownloadURL, getStorage, ref, uploadBytes } from \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBgVh9vebu9Bwf_8ytZG3mq78-gKtKRXVk\",\r\n    authDomain: \"router-with-quotes.firebaseapp.com\",\r\n    databaseURL: \"https://router-with-quotes-default-rtdb.firebaseio.com\",\r\n    projectId: \"router-with-quotes\",\r\n    storageBucket: \"router-with-quotes.appspot.com\",\r\n    messagingSenderId: \"39486309124\",\r\n    appId: \"1:39486309124:web:abb5f2bab02f28789d0651\"\r\n  };\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth();\r\nconst storage = getStorage();\r\n\r\nexport function signup(email, password) {\r\n  return createUserWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nexport function login(email, password) {\r\n  return signInWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nexport function logout() {\r\n  return signOut(auth);\r\n}\r\n\r\n// Custom Hook\r\nexport function useAuth() {\r\n  const [currentUser, setCurrentUser] = useState();\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\r\n    return unsub;\r\n  }, [])\r\n\r\n  return currentUser;\r\n}\r\n\r\n// Storage\r\nexport async function upload(file, currentUser, setLoading) {\r\n  const fileRef = ref(storage, currentUser.uid + '.png');\r\n\r\n  setLoading(true);\r\n  \r\n  const snapshot = await uploadBytes(fileRef, file);\r\n  const photoURL = await getDownloadURL(fileRef);\r\n\r\n  updateProfile(currentUser, {photoURL});\r\n  \r\n  setLoading(false);\r\n  alert(\"Uploaded file!\");\r\n}\r\n\r\n\r\n\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CAEA;;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,EAAkBC,8BAAlB,EAAkDC,0BAAlD,EAA8EC,kBAA9E,EAAkGC,OAAlG,EAA2GC,aAA3G,QAAgI,eAAhI;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,GAArC,EAA0CC,WAA1C,QAA6D,kBAA7D,C,CAEA;;AACA,MAAMC,cAAc,GAAG;EACnBC,MAAM,EAAE,yCADW;EAEnBC,UAAU,EAAE,oCAFO;EAGnBC,WAAW,EAAE,wDAHM;EAInBC,SAAS,EAAE,oBAJQ;EAKnBC,aAAa,EAAE,gCALI;EAMnBC,iBAAiB,EAAE,aANA;EAOnBC,KAAK,EAAE;AAPY,CAAvB,C,CAUA;;AACA,MAAMC,GAAG,GAAGnB,aAAa,CAACW,cAAD,CAAzB;AACA,MAAMS,IAAI,GAAGnB,OAAO,EAApB;AACA,MAAMoB,OAAO,GAAGb,UAAU,EAA1B;AAEA,OAAO,SAASc,MAAT,CAAgBC,KAAhB,EAAuBC,QAAvB,EAAiC;EACtC,OAAOtB,8BAA8B,CAACkB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CAArC;AACD;AAED,OAAO,SAASC,KAAT,CAAeF,KAAf,EAAsBC,QAAtB,EAAgC;EACrC,OAAOrB,0BAA0B,CAACiB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CAAjC;AACD;AAED,OAAO,SAASE,MAAT,GAAkB;EACvB,OAAOrB,OAAO,CAACe,IAAD,CAAd;AACD,C,CAED;;AACA,OAAO,SAASO,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC9B,QAAQ,EAA9C;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMgC,KAAK,GAAG1B,kBAAkB,CAACgB,IAAD,EAAOW,IAAI,IAAIF,cAAc,CAACE,IAAD,CAA7B,CAAhC;IACA,OAAOD,KAAP;EACD,CAHQ,EAGN,EAHM,CAAT;EAKA,OAAOF,WAAP;AACD,C,CAED;;GAXgBD,O;;AAYhB,OAAO,eAAeK,MAAf,CAAsBC,IAAtB,EAA4BL,WAA5B,EAAyCM,UAAzC,EAAqD;EAC1D,MAAMC,OAAO,GAAG1B,GAAG,CAACY,OAAD,EAAUO,WAAW,CAACQ,GAAZ,GAAkB,MAA5B,CAAnB;EAEAF,UAAU,CAAC,IAAD,CAAV;EAEA,MAAMG,QAAQ,GAAG,MAAM3B,WAAW,CAACyB,OAAD,EAAUF,IAAV,CAAlC;EACA,MAAMK,QAAQ,GAAG,MAAM/B,cAAc,CAAC4B,OAAD,CAArC;EAEA7B,aAAa,CAACsB,WAAD,EAAc;IAACU;EAAD,CAAd,CAAb;EAEAJ,UAAU,CAAC,KAAD,CAAV;EACAK,KAAK,CAAC,gBAAD,CAAL;AACD"},"metadata":{},"sourceType":"module"}