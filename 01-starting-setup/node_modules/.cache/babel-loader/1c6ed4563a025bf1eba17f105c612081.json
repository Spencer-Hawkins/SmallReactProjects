{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\"; // Import the functions you need from the SDKs you need\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\nimport { getDownloadURL, getStorage, ref, uploadBytes } from \"firebase/storage\"; // Your web app's Firebase configuration\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDSozUWZ06ZsNb67co6TyHKzWUXEHHCZek\",\n  authDomain: \"logicism-auth-4fd71.firebaseapp.com\",\n  projectId: \"logicism-auth-4fd71\",\n  storageBucket: \"logicism-auth-4fd71.appspot.com\",\n  messagingSenderId: \"769565354450\",\n  appId: \"1:769565354450:web:f478025bb20c9260b7800b\"\n}; // Initialize Firebase\n\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth();\nconst storage = getStorage();\nexport function signup(email, password) {\n  return createUserWithEmailAndPassword(auth, email, password);\n}\nexport function login(email, password) {\n  return signInWithEmailAndPassword(auth, email, password);\n}\nexport function logout() {\n  return signOut(auth);\n} // Custom Hook\n\nexport function useAuth() {\n  _s();\n\n  const [currentUser, setCurrentUser] = useState();\n  useEffect(() => {\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\n    return unsub;\n  }, []);\n  return currentUser;\n} // Storage\n\n_s(useAuth, \"weNTBXcC62DPmZO+PUtwIm8P/FM=\");\n\nexport async function upload(file, currentUser, setLoading) {\n  const fileRef = ref(storage, currentUser.uid + '.png');\n  setLoading(true);\n  const snapshot = await uploadBytes(fileRef, file);\n  const photoURL = await getDownloadURL(fileRef);\n  updateProfile(currentUser, {\n    photoURL\n  });\n  setLoading(false);\n  alert(\"Uploaded file!\");\n}","map":{"version":3,"names":["useEffect","useState","initializeApp","getAuth","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","updateProfile","getDownloadURL","getStorage","ref","uploadBytes","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","app","auth","storage","signup","email","password","login","logout","useAuth","currentUser","setCurrentUser","unsub","user","upload","file","setLoading","fileRef","uid","snapshot","photoURL","alert"],"sources":["C:/Users/Spenc/OneDrive/Desktop/Learning React/01-starting-setup/src/store/firebase.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile } from \"firebase/auth\";\r\nimport { getDownloadURL, getStorage, ref, uploadBytes } from \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDSozUWZ06ZsNb67co6TyHKzWUXEHHCZek\",\r\n  authDomain: \"logicism-auth-4fd71.firebaseapp.com\",\r\n  projectId: \"logicism-auth-4fd71\",\r\n  storageBucket: \"logicism-auth-4fd71.appspot.com\",\r\n  messagingSenderId: \"769565354450\",\r\n  appId: \"1:769565354450:web:f478025bb20c9260b7800b\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth();\r\nconst storage = getStorage();\r\n\r\nexport function signup(email, password) {\r\n  return createUserWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nexport function login(email, password) {\r\n  return signInWithEmailAndPassword(auth, email, password);\r\n}\r\n\r\nexport function logout() {\r\n  return signOut(auth);\r\n}\r\n\r\n// Custom Hook\r\nexport function useAuth() {\r\n  const [currentUser, setCurrentUser] = useState();\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, user => setCurrentUser(user));\r\n    return unsub;\r\n  }, [])\r\n\r\n  return currentUser;\r\n}\r\n\r\n// Storage\r\nexport async function upload(file, currentUser, setLoading) {\r\n  const fileRef = ref(storage, currentUser.uid + '.png');\r\n\r\n  setLoading(true);\r\n  \r\n  const snapshot = await uploadBytes(fileRef, file);\r\n  const photoURL = await getDownloadURL(fileRef);\r\n\r\n  updateProfile(currentUser, {photoURL});\r\n  \r\n  setLoading(false);\r\n  alert(\"Uploaded file!\");\r\n}\r\n\r\n\r\n\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CAEA;;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,EAAkBC,8BAAlB,EAAkDC,0BAAlD,EAA8EC,kBAA9E,EAAkGC,OAAlG,EAA2GC,aAA3G,QAAgI,eAAhI;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,GAArC,EAA0CC,WAA1C,QAA6D,kBAA7D,C,CAEA;;AACA,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCADa;EAErBC,UAAU,EAAE,qCAFS;EAGrBC,SAAS,EAAE,qBAHU;EAIrBC,aAAa,EAAE,iCAJM;EAKrBC,iBAAiB,EAAE,cALE;EAMrBC,KAAK,EAAE;AANc,CAAvB,C,CASA;;AACA,MAAMC,GAAG,GAAGlB,aAAa,CAACW,cAAD,CAAzB;AACA,MAAMQ,IAAI,GAAGlB,OAAO,EAApB;AACA,MAAMmB,OAAO,GAAGZ,UAAU,EAA1B;AAEA,OAAO,SAASa,MAAT,CAAgBC,KAAhB,EAAuBC,QAAvB,EAAiC;EACtC,OAAOrB,8BAA8B,CAACiB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CAArC;AACD;AAED,OAAO,SAASC,KAAT,CAAeF,KAAf,EAAsBC,QAAtB,EAAgC;EACrC,OAAOpB,0BAA0B,CAACgB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CAAjC;AACD;AAED,OAAO,SAASE,MAAT,GAAkB;EACvB,OAAOpB,OAAO,CAACc,IAAD,CAAd;AACD,C,CAED;;AACA,OAAO,SAASO,OAAT,GAAmB;EAAA;;EACxB,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC7B,QAAQ,EAA9C;EAEAD,SAAS,CAAC,MAAM;IACd,MAAM+B,KAAK,GAAGzB,kBAAkB,CAACe,IAAD,EAAOW,IAAI,IAAIF,cAAc,CAACE,IAAD,CAA7B,CAAhC;IACA,OAAOD,KAAP;EACD,CAHQ,EAGN,EAHM,CAAT;EAKA,OAAOF,WAAP;AACD,C,CAED;;GAXgBD,O;;AAYhB,OAAO,eAAeK,MAAf,CAAsBC,IAAtB,EAA4BL,WAA5B,EAAyCM,UAAzC,EAAqD;EAC1D,MAAMC,OAAO,GAAGzB,GAAG,CAACW,OAAD,EAAUO,WAAW,CAACQ,GAAZ,GAAkB,MAA5B,CAAnB;EAEAF,UAAU,CAAC,IAAD,CAAV;EAEA,MAAMG,QAAQ,GAAG,MAAM1B,WAAW,CAACwB,OAAD,EAAUF,IAAV,CAAlC;EACA,MAAMK,QAAQ,GAAG,MAAM9B,cAAc,CAAC2B,OAAD,CAArC;EAEA5B,aAAa,CAACqB,WAAD,EAAc;IAACU;EAAD,CAAd,CAAb;EAEAJ,UAAU,CAAC,KAAD,CAAV;EACAK,KAAK,CAAC,gBAAD,CAAL;AACD"},"metadata":{},"sourceType":"module"}